<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>AI Side Bar</title>
  <style>
    /* Layout */
    html, body { width: 450px; height: 600px; margin: 0; padding: 0; overflow: hidden; font-family: 'Inter', sans-serif; }
    :root { --bg: #f3f4f6; --glass: #ffffff; --border: #e5e7eb; --primary: #4f46e5; --text: #1f2937; }
    body { background: var(--bg); color: var(--text); }
    
    .container { display:flex; flex-direction:column; height:100%; }
    
    /* Header */
    header { padding: 12px 16px; background: var(--glass); border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
    h1 { margin:0; font-size:16px; color:var(--primary); }

    /* Main Area */
    main { flex:1; display:flex; padding:14px; gap:14px; overflow:hidden; }
    .left { width: 130px; overflow-y:auto; border-right:1px solid var(--border); padding-right:10px; }
    .right { flex:1; display:flex; flex-direction:column; gap:12px; overflow-y:auto; padding-right:5px; }

    /* Cards */
    .card { background: var(--glass); border:1px solid var(--border); border-radius:8px; padding:12px; display:flex; flex-direction:column; gap:8px; box-shadow:0 2px 4px rgba(0,0,0,0.05); }
    
    label { font-size:11px; font-weight:bold; color:#666; text-transform:uppercase; display:flex; justify-content:space-between; align-items:center; }
    
    /* Inputs */
    textarea, input { width:100%; box-sizing:border-box; border:1px solid var(--border); border-radius:6px; padding:8px; resize:none; font-family:inherit; }
    button { background:var(--primary); color:white; border:none; padding:8px; border-radius:6px; cursor:pointer; }
    .secondary { background:transparent; border:1px solid var(--border); color:var(--text); }
    .plus-btn { width: 24px; height: 24px; display:flex; align-items:center; justify-content:center; padding:0; font-size:16px; font-weight:bold; }

    /* Chat Buttons (Mic & Speaker) */
    #micBtn, #speakToggle { 
      width:36px; height:36px; 
      border-radius:50%; 
      display:flex; justify-content:center; align-items:center; 
      font-size:16px; cursor:pointer; color:white; flex-shrink: 0;
    }
    #micBtn { background:linear-gradient(135deg,#ef4444,#f97316); }
    #speakToggle { background:linear-gradient(135deg,#4f46e5,#6366f1); transition: opacity 0.2s; }
    
    .output { flex:1; overflow-y:auto; display:flex; flex-direction:column; gap:8px; max-height:200px; min-height:150px; }
    .msg-user { align-self:flex-end; background:var(--primary); color:white; padding:6px 10px; border-radius:12px 12px 0 12px; max-width:85%; font-size:13px; }
    .msg-ai { align-self:flex-start; background:white; border:1px solid var(--border); padding:6px 10px; border-radius:12px 12px 12px 0; max-width:90%; font-size:13px; }

    /* Lists */
    .list-item { display:flex; justify-content:space-between; background:white; padding:8px; border-radius:6px; border:1px solid #eee; font-size:12px; white-space: pre-wrap; }
    .list-del { background:none; color:#bbb; padding:0; width:auto; font-size:14px; border:none; cursor: pointer; margin-left:8px;}
    .list-del:hover { color:red; }

    /* Scrollbars */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>AI Side Bar</h1>
      <button id="open-options" class="secondary">‚öôÔ∏è</button>
    </header>

    <main>
      <div class="left" id="bookmarksPane">
        <div style="font-size:11px; font-weight:bold; color:#888; margin-bottom:5px;">BOOKMARKS</div>
        <div id="bookmarksList"></div>
      </div>

      <div class="right">
        <div class="card">
          <label>AI Assistant</label>
          <div id="response" class="output">
            <div class="msg-ai">Hello! I'm listening.</div>
          </div>
          <textarea id="prompt" placeholder="Ask something..." style="height:50px;"></textarea>
          
          <div style="display:flex; gap:6px; align-items:center;">
            <div id="micBtn" title="Start Voice">üé§</div>
            <div id="speakToggle" title="Toggle Speech (On/Off)">üîä</div>
            <button id="send" style="flex:1;">Send</button>
            <button id="clear" class="secondary">üóëÔ∏è</button>
          </div>
        </div>

        <div class="card">
          <label>Notes <button id="add-note" class="plus-btn">+</button></label>
          <textarea id="note-input" placeholder="Write a new note here..." style="height:40px;"></textarea>
          <div id="notes-list" style="display:flex; flex-direction:column; gap:6px; margin-top:5px;"></div>
        </div>

        <div class="card">
          <label>To-Do</label>
          <div style="display:flex; gap:6px;">
            <input id="todo-input" placeholder="New task...">
            <button id="add-todo" class="plus-btn">+</button>
          </div>
          <div id="todo-list" style="display:flex; flex-direction:column; gap:4px; margin-top:5px;"></div>
        </div>
      </div>
    </main>
  </div>
  <script src="popup.js"></script>
</body>
</html>
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>AI Side Bar</title>
  <style>
    /* Layout */
    html, body { width: 100%; height: 100%; margin: 0; padding: 0; font-family: 'Inter', sans-serif; background: #f3f4f6; }
    :root { --primary: #4f46e5; --text: #1f2937; --border: #e5e7eb; }
    
    .container { display:flex; flex-direction:column; height:100vh; }
    
    /* Header */
    header { 
      padding: 12px 16px; 
      background: white; 
      border-bottom: 1px solid var(--border); 
      display: flex; 
      align-items: center; 
      gap: 10px; /* Space between back arrow and title */
    }
    h1 { margin:0; font-size:16px; color:var(--primary); flex: 1; }

    /* Back Button Style */
    #close-sidebar {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 18px;
      padding: 4px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }
    #close-sidebar:hover { background: #e5e7eb; }

    /* Main Area */
    main { flex:1; display:flex; padding:10px; gap:10px; overflow:hidden; }
    .left { width: 120px; overflow-y:auto; border-right:1px solid var(--border); padding-right:5px; }
    .right { flex:1; display:flex; flex-direction:column; gap:10px; overflow-y:auto; }

    /* Cards */
    .card { background: white; border:1px solid var(--border); border-radius:8px; padding:10px; display:flex; flex-direction:column; gap:8px; box-shadow:0 2px 4px rgba(0,0,0,0.05); }
    
    label { font-size:11px; font-weight:bold; color:#666; text-transform:uppercase; display:flex; justify-content:space-between; align-items:center; }
    
    /* Inputs & Buttons */
    textarea, input { width:100%; box-sizing:border-box; border:1px solid var(--border); border-radius:6px; padding:8px; resize:none; font-family:inherit; }
    button { background:var(--primary); color:white; border:none; padding:6px; border-radius:6px; cursor:pointer; }
    .secondary { background:transparent; border:1px solid var(--border); color:var(--text); }
    .plus-btn { width: 24px; height: 24px; display:flex; align-items:center; justify-content:center; padding:0; font-size:16px; }

    /* Chat */
    #micBtn, #speakToggle { width:32px; height:32px; border-radius:50%; display:flex; justify-content:center; align-items:center; cursor:pointer; color:white; }
    #micBtn { background:linear-gradient(135deg,#ef4444,#f97316); }
    #speakToggle { background:linear-gradient(135deg,#4f46e5,#6366f1); }
    .output { flex:1; overflow-y:auto; display:flex; flex-direction:column; gap:8px; max-height:250px; min-height:150px; }
    .msg-user { align-self:flex-end; background:var(--primary); color:white; padding:6px 10px; border-radius:12px 12px 0 12px; max-width:85%; font-size:13px; }
    .msg-ai { align-self:flex-start; background:#f9fafb; border:1px solid var(--border); padding:6px 10px; border-radius:12px 12px 12px 0; max-width:90%; font-size:13px; }
    
    /* Lists */
    .list-item { display:flex; justify-content:space-between; background:#fafafa; padding:6px; border-radius:4px; border:1px solid #eee; font-size:12px; white-space: pre-wrap; margin-bottom: 4px; }
    .list-del { background:none; color:#bbb; padding:0; width:auto; font-size:14px; border:none; cursor: pointer;}
    .list-del:hover { color:red; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <button id="close-sidebar" title="Close Sidebar">‚¨ÖÔ∏è</button>
      
      <h1>AI Side Bar</h1>
      <button id="open-options" class="secondary">‚öôÔ∏è</button>
    </header>

    <main>
      <div class="left" id="bookmarksPane">
        <div style="font-size:11px; font-weight:bold; color:#888; margin-bottom:5px;">LINKS</div>
        <div id="bookmarksList"></div>
      </div>

      <div class="right">
        <div class="card">
          <label>AI Assistant</label>
          <div id="response" class="output">
            <div class="msg-ai">Hi! I'm ready. (Alt+V to speak)</div>
          </div>
          <textarea id="prompt" placeholder="Ask something..." style="height:50px;"></textarea>
          <div style="display:flex; gap:6px; align-items:center;">
            <div id="micBtn" title="Start Voice">üé§</div>
            <div id="speakToggle" title="Toggle Speech">üîä</div>
            <button id="send" style="flex:1;">Send</button>
            <button id="clear" class="secondary">üóëÔ∏è</button>
          </div>
        </div>

        <div class="card">
          <label>Notes <button id="add-note" class="plus-btn">+</button></label>
          <textarea id="note-input" placeholder="New note..." style="height:40px;"></textarea>
          <div id="notes-list"></div>
        </div>

        <div class="card">
          <label>To-Do</label>
          <div style="display:flex; gap:6px;">
            <input id="todo-input" placeholder="Task...">
            <button id="add-todo" class="plus-btn">+</button>
          </div>
          <div id="todo-list" style="margin-top:5px;"></div>
        </div>
      </div>
    </main>
  </div>
  <script src="popup.js"></script>
</body>
</html>